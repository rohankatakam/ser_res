{
  "timestamp": "2026-02-06T18:17:06.152826",
  "total_tests": 7,
  "passed": 7,
  "failed": 0,
  "results": [
    {
      "test_id": "01_cold_start_quality",
      "name": "Cold Start Returns Quality Content",
      "evaluation_method": "deterministic_llm",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "cold_start_flag",
          "description": "API response includes cold_start: true",
          "passed": true,
          "details": "cold_start=True"
        },
        {
          "criterion_id": "avg_credibility",
          "description": "Average credibility of top 10 >= 3.0",
          "passed": true,
          "details": "avg_credibility=4.00"
        },
        {
          "criterion_id": "min_credibility",
          "description": "No episode in top 10 has credibility < 2",
          "passed": true,
          "details": "min_credibility=4"
        },
        {
          "criterion_id": "top_quality_score",
          "description": "Top 3 episodes have quality_score >= 0.7",
          "passed": true,
          "details": "top_3_quality_scores=[1.0, 1.0, 0.9]"
        },
        {
          "criterion_id": "llm_relevance",
          "description": "LLM relevance score (1-5)",
          "passed": true,
          "details": "score=4"
        },
        {
          "criterion_id": "llm_quality",
          "description": "LLM quality score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_test_pass",
          "description": "LLM judge test pass",
          "passed": true,
          "details": "pass=True, rationale=The recommendations successfully surface high-quality content (all credibility 4) for a cold start u..."
        }
      ],
      "error": null,
      "llm_evaluation": {
        "relevance_score": 4,
        "diversity_score": 4,
        "quality_score": 5,
        "test_pass": true,
        "rationale": "The recommendations successfully surface high-quality content (all credibility 4) for a cold start user, aligning with the test case. The topics are relevant to a general investor audience, focusing on technology, AI, and startups, with reasonable diversity across these areas.",
        "raw_response": "{\n  \"relevance_score\": 4,\n  \"diversity_score\": 4,\n  \"quality_score\": 5,\n  \"test_pass\": true,\n  \"rationale\": \"The recommendations successfully surface high-quality content (all credibility 4) for a cold start user, aligning with the test case. The topics are relevant to a general investor audience, focusing on technology, AI, and startups, with reasonable diversity across these areas.\"\n}",
        "model": "gemini-2.5-flash"
      }
    },
    {
      "test_id": "02_personalization_differs",
      "name": "Personalization Differs from Cold Start",
      "evaluation_method": "deterministic_llm",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "episode_difference",
          "description": "At least 5 of top 10 episodes are different",
          "passed": true,
          "details": "different_episodes=6"
        },
        {
          "criterion_id": "similarity_increase",
          "description": "VC Partner has higher avg similarity_score than cold start",
          "passed": true,
          "details": "cold_avg=0.500, vc_avg=0.740"
        },
        {
          "criterion_id": "cold_start_flag_off",
          "description": "VC Partner cold_start flag is false",
          "passed": true,
          "details": "vc_cold_start=False"
        },
        {
          "criterion_id": "llm_relevance",
          "description": "LLM relevance score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_quality",
          "description": "LLM quality score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_test_pass",
          "description": "LLM judge test pass",
          "passed": true,
          "details": "pass=True, rationale=The recommendations are highly relevant, deeply aligning with the user's VC profile, AI/tech focus, ..."
        }
      ],
      "error": null,
      "llm_evaluation": {
        "relevance_score": 5,
        "diversity_score": 4,
        "quality_score": 5,
        "test_pass": true,
        "rationale": "The recommendations are highly relevant, deeply aligning with the user's VC profile, AI/tech focus, and strong preference for a16z content and key figures like Marc Andreessen and Elon Musk. The feed demonstrates good diversity within these specific interests, covering various AI sub-themes and sources, all while maintaining high quality. The strong personalization, evident in the focus on specific VCs and a16z, and the inclusion of previously engaged content, suggests a significant departure from a cold start.",
        "raw_response": "{\n  \"relevance_score\": 5,\n  \"diversity_score\": 4,\n  \"quality_score\": 5,\n  \"test_pass\": true,\n  \"rationale\": \"The recommendations are highly relevant, deeply aligning with the user's VC profile, AI/tech focus, and strong preference for a16z content and key figures like Marc Andreessen and Elon Musk. The feed demonstrates good diversity within these specific interests, covering various AI sub-themes and sources, all while maintaining high quality. The strong personalization, evident in the focus on specific VCs and a16z, and the inclusion of previously engaged content, suggests a significant departure from a cold start.\"\n}",
        "model": "gemini-2.5-flash"
      }
    },
    {
      "test_id": "03_quality_gates_credibility",
      "name": "Quality Gates Enforce Credibility Floor",
      "evaluation_method": "deterministic",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "credibility_floor",
          "description": "No episode with credibility < 2 in any response",
          "passed": true,
          "details": "low_credibility_count=0"
        },
        {
          "criterion_id": "combined_floor",
          "description": "All episodes have C + I >= 5",
          "passed": true,
          "details": "low_combined_count=0"
        },
        {
          "criterion_id": "known_bad_excluded",
          "description": "Known low-credibility episode LexVsfaBFuk0MWokZOhY never appears",
          "passed": true,
          "details": "found=False"
        }
      ],
      "error": null,
      "llm_evaluation": null
    },
    {
      "test_id": "04_excluded_episodes",
      "name": "Excluded Episodes Never Reappear",
      "evaluation_method": "deterministic",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "exclusions_respected",
          "description": "None of the excluded episode IDs appear",
          "passed": true,
          "details": "excluded_found=[]"
        },
        {
          "criterion_id": "still_returns_results",
          "description": "System still returns 10 valid recommendations",
          "passed": true,
          "details": "episode_count=10"
        }
      ],
      "error": null,
      "llm_evaluation": null
    },
    {
      "test_id": "05_category_personalization",
      "name": "Category Engagement \u2192 Category Recommendations",
      "evaluation_method": "deterministic_llm",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "ai_tech_category_match",
          "description": "Profile 02 (AI/Tech): At least 5 of top 10 are AI/Tech related",
          "passed": true,
          "details": "ai_tech_matches=10/10"
        },
        {
          "criterion_id": "crypto_category_match",
          "description": "Profile 03 (Crypto): At least 5 of top 10 are Crypto/Web3 related",
          "passed": true,
          "details": "crypto_matches=5/10"
        },
        {
          "criterion_id": "llm_relevance",
          "description": "LLM relevance score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_quality",
          "description": "LLM quality score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_test_pass",
          "description": "LLM judge test pass",
          "passed": true,
          "details": "pass=True, rationale=The recommendations are highly relevant, focusing entirely on AI, AI infrastructure, and VC strategy..."
        }
      ],
      "error": null,
      "llm_evaluation": {
        "relevance_score": 5,
        "diversity_score": 4,
        "quality_score": 5,
        "test_pass": true,
        "rationale": "The recommendations are highly relevant, focusing entirely on AI, AI infrastructure, and VC strategy, aligning perfectly with the user's profile and recent engagements. The quality is consistently high across all recommendations, and the system successfully meets the category engagement test case by providing 100% AI-related content for a user with 100% AI engagements.",
        "raw_response": "{\n  \"relevance_score\": 5,\n  \"diversity_score\": 4,\n  \"quality_score\": 5,\n  \"test_pass\": true,\n  \"rationale\": \"The recommendations are highly relevant, focusing entirely on AI, AI infrastructure, and VC strategy, aligning perfectly with the user's profile and recent engagements. The quality is consistently high across all recommendations, and the system successfully meets the category engagement test case by providing 100% AI-related content for a user with 100% AI engagements.\"\n}",
        "model": "gemini-2.5-flash"
      }
    },
    {
      "test_id": "06_bookmark_weighting",
      "name": "Bookmarks Outweigh Clicks in Mixed History",
      "evaluation_method": "deterministic_llm",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "different_results",
          "description": "Scenarios produce different recommendations (at least 2 different episodes)",
          "passed": true,
          "details": "different_episodes=4"
        },
        {
          "criterion_id": "crypto_dominance_in_b",
          "description": "Scenario B (bookmark crypto) has more crypto episodes in top 10 than Scenario A",
          "passed": true,
          "details": "scenario_a_crypto=2/10, scenario_b_crypto=3/10"
        },
        {
          "criterion_id": "llm_relevance",
          "description": "LLM relevance score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_quality",
          "description": "LLM quality score (1-5)",
          "passed": true,
          "details": "score=5"
        },
        {
          "criterion_id": "llm_test_pass",
          "description": "LLM judge test pass",
          "passed": true,
          "details": "pass=True, rationale=The recommendations are exclusively focused on AI, directly aligning with the user's bookmarked epis..."
        }
      ],
      "error": null,
      "llm_evaluation": {
        "relevance_score": 5,
        "diversity_score": 3,
        "quality_score": 5,
        "test_pass": true,
        "rationale": "The recommendations are exclusively focused on AI, directly aligning with the user's bookmarked episodes. This indicates that the bookmarked content successfully outweighed the clicked crypto content, fulfilling the test case requirement. All recommendations are also of high quality, though diversity across all past engagements is limited.",
        "raw_response": "{\n  \"relevance_score\": 5,\n  \"diversity_score\": 3,\n  \"quality_score\": 5,\n  \"test_pass\": true,\n  \"rationale\": \"The recommendations are exclusively focused on AI, directly aligning with the user's bookmarked episodes. This indicates that the bookmarked content successfully outweighed the clicked crypto content, fulfilling the test case requirement. All recommendations are also of high quality, though diversity across all past engagements is limited.\"\n}",
        "model": "gemini-2.5-flash"
      }
    },
    {
      "test_id": "07_recency_scoring",
      "name": "Recency Scoring Works",
      "evaluation_method": "deterministic",
      "passed": true,
      "criteria_results": [
        {
          "criterion_id": "both_in_top_10",
          "description": "Both test episodes found in top 10 cold start results",
          "passed": true,
          "details": "recent_found=True, older_found=True"
        },
        {
          "criterion_id": "recency_score_ordering",
          "description": "Recent episode has higher recency_score than older",
          "passed": true,
          "details": "recent=0.9704, older=0.9139"
        },
        {
          "criterion_id": "ranking_reflects_recency",
          "description": "Recent episode ranks higher (lower position) than older",
          "passed": true,
          "details": "recent_pos=3, older_pos=8"
        }
      ],
      "error": null,
      "llm_evaluation": null
    }
  ]
}